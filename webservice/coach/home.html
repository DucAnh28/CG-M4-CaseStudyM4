<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>Coach</title>
<<<<<<< HEAD

    <script>

        function showAllCoach(){
            $.ajax({
                    type:"get",
                    url:"http://localhost:2828/coach",
                    success:function (data){
                        let content="";
                        for (let i=0;i<data.length;i++){
                            content+=`<tr><td>${data[i].id}</td>
        <td>${data[i].name}</td>
        <td>${data[i].country}</td>
        <td>${data[i].achievement}</td>
        <td>${data[i].salary}</td>
        <td>${data[i].role}</td>
        <td>${data[i].image}</td>

        <td><a href="${data[i].id}" onclick="deleteCoach(this)">Delete</a></td></tr>
        <td><a href="${data[i].id}" onclick="showFormUpdate(this)">Update</a></td></tr>`;
                        }
                        document.getElementById("list").innerHTML = content;

                    }
                }
            )
        }
        showAllCoach();
        function deleteCoach(element){

            let id=element.getAttribute("href");
            $.ajax({
                type: "delete",
                url: "http://localhost:2828/coach/"+id,
                success:function (date){
                    console.log("Xoa thanh cong ");
                    showAllCoach();
                }
            })
            event.preventDefault();
        }
        function addNewCoach(){

            let name = $('#name').val();
            let country = $('#country').val();
            let achievement = $('#achievement').val();
            let salary = $('#salary').val();
            let role = $('#role').val();
            let image = $('#image').val();
            let newCoach={
                Name:name,
                country:country,
                achievement:achievement,
                salary:salary,
                role:role,
                image:image,
            }

            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                type: "POST",
                data: JSON.stringify(newCoach),
                url: "http://localhost:2828/coach",
                success: function (){
                    console.log("tao thanh cong"+newCoach)
                    showAllCoach();
                }
            });
            event.preventDefault();
        }
        function searchCoachBySalaryAsc(){

        }
        function showFormUpdate(element){
            let id = element.getAttribute("href");
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                type: "get",
                url: "http://localhost:2828/coach/"+id,
                success: function (data) {
                    console.log(data);
                    console.log(id);
                    // console.log( $('#id').attr('value',`${data.id}`))
                    $('#id').attr('value',`${data.id}`)
                    $('#name').attr('value',`${data.name}`)
                    $('#country').attr('value',`${data.country}`)
                    $('#achievement').attr('value',`${data.achievement}`)
                    $('#salary').attr('value',`${data.salary}`)
                    $('#role').attr('value',`${data.role}`)
                    $('#image').attr('value',`${data.image}`)
                }

            })

            event.preventDefault();
        }

        // function updateCoach() {
        //     let id = $('#id').val();
        //     let name = $('#name').val();
        //     let country = $('#country').val();
        //     let achievement = $('#achievement').val();
        //     let salary = $('#salary').val();
        //     let role = $('#role').val();
        //     let image = $('#image').val();
        //     let editCoach={
        //         name:name,
        //         country:country,
        //         achievement:achievement,
        //         salary:salary,
        //         role:role,
        //         image:image,
        //     }
        //     $.ajax({
        //         headers: {
        //             'Accept': 'application/json',
        //             'Content-Type': 'application/json'
        //         },
        //         type: "put",
        //         url: "http://localhost:2828/coach/"+id,
        //         data:JSON.stringify(editCoach),
        //         success: function (data) {
        //             console.log("cap nhat thanh cong"+editCoach)
        //             showAllCoach();
        //         }
        //     })
        //
        //     event.preventDefault();
        // }
        function updateCustomer() {
            let id = $('#id').val();
            let name= $('#name').val();
            let address= $('#address').val();
            let customer={
                name:name,
                address:address
            }
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                type: "PUT",
                url: `/api/customers/${id}`,
                data:JSON.stringify(customer),
                success: function (data) {
                    console.log(id);
                    successHandler();
                }
            })

            event.preventDefault();
        }

        function searchCoachSortSalary(){
            showAllCoach()
            event.preventDefault();
        }


    </script>

=======
>>>>>>> dc70d8df8889ca4a67e08df1fc1cf31b942f1075
</head>
<body>
<table>
    <tr>
        <td>Name</td>
        <td><input id="id"></td>
    </tr>
    <tr>
        <td>Name</td>
        <td><input id="name"></td>
    </tr>
    <tr>
        <td>Country</td>
        <td><input id="country"></td>
    </tr>
    <tr>
        <td>Achievement</td>
        <td><input id="achievement"></td>
    </tr>

    <tr>
        <td>Salary</td>
        <td><input id="salary"></td>
    </tr>
    <tr>
        <td>Role</td>
        <td><input id="role"></td>
    </tr>
    <tr>
        <td>Image</td>
        <td><input  id="image"></td>
    </tr>


    <tr>
        <td><button onclick="addNewCoach(this)">Add</button></td>
        <td><input type="submit" id="search" value="Search" onclick="searchCoach()"></td>
    </tr>
        <tr>
         <td><button onclick="updateCoach(this)">Update</button></td>
        </tr>


</table>

<table border="1px" id="list">
    <tr>
        <td>Id</td>
        <td>Name</td>
        <td>Country</td>
        <td>Achievement</td>
        <td>Salary</td>
        <td>Role</td>
        <td>Image</td>
        <td>Action</td>
    </tr>


</table>
<!--<div>-->
<!--    <a th:if="${coach.hasPrevious()}" th:href="@{'/coach/page'(page=${coach.number-1})}">Trang trước</a>-->
<!--    <span th:text="${coach.number+1}"></span>/<span th:text="${coach.totalPages}"></span>-->
<!--    <a th:if="${coach.hasNext()}" th:href="@{'/coach/page'(page =${coach.number+1})}">Trang sau</a>-->

<!--</div>-->

<<<<<<< HEAD

</body>
=======
>>>>>>> dc70d8df8889ca4a67e08df1fc1cf31b942f1075

</body>
<script src="home.js"></script>
</html>